webpackJsonp([89422301340971],{362:function(n,a){n.exports={data:{markdownRemark:{html:'<p>El Sensor Rotatorio es un sensor analógico, es decir que éste proporciona una señal (voltaje) proporcional a la posición a la que se encuentra la perilla. Por lo anterior, este módulo debe usarse en combinación con el módulo de Sensores Analógicos, ya que éste cuenta con el componente <strong>ADC</strong> (<em>Analog Digital Converter</em>), y a través de éste se obtienen mediciones numéricas.</p>\n<p>Es bien sabido que la <em>Raspberry PI</em> no cuenta con módulos ADC, por ello es importante usar el módulo de Sensores Analógicos. La comunicación del módulo de Sensores Analógicos con la PI se realiza a través del puerto <strong>IIC</strong>, por lo cual no es necesario especificar el puerto del <strong>Shield</strong> al cual se conecta. Sin embargo, solo se pueden usar los puertos genéricos <code>1-6</code>, ya que los puertos <code>M1-M2</code> son designados para motores.</p>\n<p>Por otro lado, para el Sensor Rotatorio se debe especificar a cuál puerto analógico (del módulo de Sensores Analógicos) se va a conectar, ya que este parámetro es requerido para tomar las mediciones adecuadamente.</p>\n<h2>Instalación de la librería</h2>\n<p>Al igual que todas las librerías de <strong>Robotois</strong>, esta librería se puede instalar a través del paquete en <a href="https://www.npmjs.com/package/robotois-rotary-sensor"><strong>npm</strong></a> o el repositorio de <a href="https://github.com/Robotois/robotois-rotary-sensor"><strong>GitHub</strong></a>:</p>\n<ul>\n<li>\n<p>Usando el gestor <strong>npm</strong> la librería se instala de la siguiente manera:</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save https://github.com/Robotois/robotois-rotary-sensor.git\n</code></pre>\n      </div>\n</li>\n<li>\n<p>Para instalar desde el repositorio de <strong>GitHub</strong>, se puede descargar el repositorio, pero se recomienda lo siguiente:</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save git+https://github.com/Robotois/robotois-rotary-sensor.git\n</code></pre>\n      </div>\n</li>\n</ul>\n<h2>Conexión al Shield</h2>\n<p>La conexión al <strong>Shield</strong> se realiza como se ilustra en la siguiente imagen, en donde se observa que el Sensor Rotatorio se conecta en uno de los puertos analógicos del Módulo de Sensores Analógicos y éste a su vez se conecta al Shield en uno de los puertos genéricos.</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/rotary-shield2-b679cdcb358b5828e5dcfb4f6c3e593b-cd3e5.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 291px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 151.89003436426117%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAA9fAAAPXwHXitrJAAAEhklEQVRIx5VWiW7bRhTUD6b/0vZ7CjRBUhQtEMQOUjQn2iJuoNqxLdHUfVsXxVvkLklJ3Ol7K1GW3ARJF3jYe/iOmZVKm80mJ1MH/Rctz3O1Wq2UtbDVwnaUH4T5nMZBGG5KvAlqSilth2Pa01bMizVuaZrCcn3c1Op49OgRZraDhePmpfV6nSdJwgcU9UoIoXsppfbivtF5lSapcl1X+WGszHpT/fjwoXK8EI7n5yUGajQaIFOj0Qi1Wk1bq9XCcDhEs9nUY+7Zer0e/j47w8nJCWwCiWWKNMtUGCew2UMOmcPY5Qa78b4nj/5jvCekBOUNo2UCw5HKiSUon3eAB/0XjXOpc2g5uJqP8apTVgMnhOe6/wdwo429BraF4WY7C1Q+vtsWlg5+PSBd2fIBlHyJ8sUQhjnGn+/7MGq23iHmfS2gwiaNkEmfUGPUbtowjC7lMYPnR1itsuJuXjooxhEgh1YUZ73e4Pz6KS6vnuC68gv++vADur3y1l11dDcvqW3bLx4SurCEKvq8N8XriYs3YwenEx/noxnFSFXffvQOkHlIhNW0YUrwuLAsy/bKGTsebOKatYyxiBJMSRkbOr+L5A6QSKuq1Srq9bpiAjOpabwnsW3bME0TjhNApitE5K1MVrTu7Tl55CFPSGZaKYZhgI2Bl8slWJI8Pz09xWS2wHSRYDiJSMNaFQRIkX0KsMhhoYyiGMVjwW1OITebGfrtHP1BQg+B83kPP0ebotIcwZg8rJkJmuYa7U5Mslts9z8HuHvrPkkb7oWI0Wh6eHraofzFNBfEGFWcOeYhMRwFfQqggj5bqW1DZyLXW7Ye3/vosYd8IEkzJZNsd1khFgkyog6Pw6XU+o1FhsqNhZ3Mto/u/ZBjKdTt1Mf7M0u9+2OGqeXjdhLg5esxyuc2KULg+YsB6o0QVxUPJ89HGAxDTOYWRpM56PnXRN15mpcc31Odvo9mba2Makr0kBiOiEbmCjdGAvNG8B5xU8Ko8voavb5ERoGIFHCDSKdr76Eb+Ko3DOhiqqoVidlCYDQWMI2UOChQNSLUzYwIL0jHEa1naHUivHr7Fj/9/CsuLq+0mHYUIg89X83pcbR9qRaegBdJuCG9vq7QZnHvbeeWE8MJSHaLAN9+/x0efPMAjx8/OQYcT2L6TRFotaWaWgIRqSMgzcZpArnKSG5EmSylcarXeJ8/2GjGJMkQnV54XJTfX/fVx3MKsbpS46nEMiET7EWEWttDo+uhPQjQojxPrEgDsrfXlxLn5RTPXpThh4HaUSkv3Y4jZdbo0axJqnasL4SCL8UaqN0LMJiE6I4CemG2gJyGep2M8tpoBvzTcOdht7dUFUo2FWAPGNAv2FJS2AmFKVd6jcPlNf0xj4sVU5FiVE2t6TvAl28G6qIc46ZyFzID8sVPGYMy4PWlQPmDxLPf/kFwGPLcilW7I9DpJmq6kORVpovihhFVlCw8MJp7EVdaEhcTIr2kl+ceD5k2M3rbnHCpnID/TjA9QtS7A5jtnrZau78ft/ojAlzqD05sl866R0r5F1IZ6m2asGxXAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="Conexión del Sensor Rotatorio"\n        title=""\n        src="/static/rotary-shield2-b679cdcb358b5828e5dcfb4f6c3e593b-cd3e5.png"\n        srcset="/static/rotary-shield2-b679cdcb358b5828e5dcfb4f6c3e593b-b2e54.png 210w,\n/static/rotary-shield2-b679cdcb358b5828e5dcfb4f6c3e593b-cd3e5.png 291w"\n        sizes="(max-width: 291px) 100vw, 291px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2>Obtener mediciones</h2>\n<p>Con esta librería se pueden obtener las mediciones del Sensor Rotatorio de manera sencilla, en la cual se utilizan eventos. Es decir, que cada vez que está disponible una medición nueva, se dispara un evento con un valor proporcional a la posición que se encuentra la perilla del Sensor Rotatorio. En este caso, los valores de las mediciones están en un rango de <code>0-10</code>, en donde el valor <code>0</code> indica que la perilla se encuentra en la posición más baja y el valor <code>10</code> indica que la perilla se encuentra en la posición máxima.</p>\n<p>Otros aspectos importantes de la medición por eventos son los siguientes, las valores numéricos son valores enteros y el tiempo de muestreo es de <code>250ms</code>. Se debe tener en consideración esta información, ya que si la aplicación que se va a desarrollar requiere de un mejor tiempo de muestreo o se requieren mediciones más precisas, entonces probablemente es mejor usar otro de los métodos de los que cuenta esta librería, para obtener las mediciones.</p>\n<p>Un ejemplo de cómo utilizar las mediciones por eventos es el siguiente:</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-javascript"><code><span class="token keyword">const</span> RotarySensor <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'robotois-rotary-sensor\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> rotary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RotarySensor</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nrotary<span class="token punctuation">.</span><span class="token function">enableEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nrotary<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">\'medicion\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Posicion: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>En el ejemplo anterior, se observa que para habilitar las mediciones por eventos se debe ejecutar la función <code>enableEvents()</code>. El resultado de ejecutar el ejemplo anterior, puede ser el siguiente:</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-text"><code>Posicion: 0\nPosicion: 2\nPosicion: 4\nPosicion: 5\nPosicion: 7\nPosicion: 9\nPosicion: 10\nPosicion: 10\nPosicion: 10\nPosicion: 7\nPosicion: 5\nPosicion: 4\nPosicion: 2\nPosicion: 2\nPosicion: 1\nPosicion: 0</code></pre>\n      </div>\n<p>Como se puede observar, en el resultado anterior se tienen los valores de las mediciones cuando se hace girar la perilla del Sensor Rotatorio de la posición mínima a la posición máxima, y viceversa.</p>\n<h2>Función <code>when()</code></h2>\n<p>También se cuenta con la función <code>when()</code>, la cual permite realizar una acción con base en la posición actual de la perilla del Sensor Rotatorio. Lo que quiere decir que es posible programar una tarea para cuando la perilla se encuentra en una posición específica. En el siguiente ejemplo se muestra cómo utilizar esta función:</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-javascript"><code><span class="token keyword">const</span> RotarySensor <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'robotois-rotary-sensor\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> rotary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RotarySensor</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nrotary<span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Wow, la posicion es 5!!\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Como se observa, en el ejemplo anterior no es necesario ejecutar explíticamente la función <code>enableEvents()</code>, ya que de manera interna, en la función <code>when()</code> se realiza dicha invocación. El resultado de ejecutar el ejemplo anterior se muestra a continuación.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-text"><code>Posicion: 0\nPosicion: 1\nPosicion: 2\nPosicion: 4\nPosicion: 4\nPosicion: 5\nWow, la posicion es 5!!\nPosicion: 5\nWow, la posicion es 5!!\nPosicion: 5\nWow, la posicion es 5!!\nPosicion: 6\nPosicion: 7\nPosicion: 8</code></pre>\n      </div>\n<h1>Mediciones Avanzadas</h1>\n<p>En esta sección se abordan otros métodos para obtener mediciones del Sensor Rotatorio. El método de medición por eventos y usando la función <code>when()</code> se pueden llegar a considerar como un punto de inicio, ya que para ciertas aplicaciones se requiere obtener mediciones más precisas y/o con un menor tiempo de muestreo, lo que implica un mejor tiempo de respuesta.</p>\n<h2>Función <code>getValue()</code></h2>\n<p>La función <code>getValue()</code> permite obtener mediciones del Sensor Rotatorio con base en la señal analógica (<em>raw value</em>) que éste proporciona con respecto a la posición de la perilla. En este caso las mediciones tienen un rango de <code>0-5</code>, en donde el valor de medición es igual al voltaje de la señal que se deriva en el Sensor Rotatorio, y de hecho el valor máximo (<code>5</code>) es en realidad igual al voltaje con el cual el módulo es alimentado, normalmente son <code>5V</code> por ello se establece dicho valor. Consecuentemente en algunos casos el valor máximo en la señal puede variar debido a que éste no siempre es exacto.</p>\n<p>En el siguiente ejemplo se ilustra cómo puede utilizarse la función <code>getValue()</code>:</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-javascript"><code><span class="token keyword">const</span> RotarySensor <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'robotois-rotary-sensor\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> rotary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RotarySensor</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Value: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>rotary<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>A continuación se muestra un posible resultado de ejecutar el ejemplo anterior. Como se puede observar, se tiene el caso en el cual la perilla del Sensor Rotatorio gira de la posición más baja a la posición máxima.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-text"><code>Value: 0.000\nValue: 0.003\nValue: 0.054\nValue: 0.111\nValue: 0.177\nValue: 0.486\nValue: 0.828\nValue: 1.056\nValue: 1.335\nValue: 1.608\nValue: 1.854\nValue: 2.229\nValue: 2.544\nValue: 3.084\nValue: 3.591\nValue: 3.996\nValue: 4.266\nValue: 4.497\nValue: 4.716\nValue: 4.893\nValue: 5.028</code></pre>\n      </div>\n<p>En este resultado es importante notar que el valor máximo es <code>5.028</code>, lo cual, como se mencionó anteriormente, significa que éste es el voltaje de alimentación que se tiene en el módulo. Y de manera general, el voltaje de alimentación es igual al de la <strong>Raspberry PI</strong>.</p>\n<h2>Función <code>getBasicValue()</code></h2>\n<p>Para muchas aplicaciones no siempre resulta intuitivo utilizar el nivel de voltaje de la señal como indicador de la posición de la perilla en el Sensor Rotatorio. Por ello en esta librería se incluye la función <code>getBasicValue()</code>, la cual proporciona valores de medición que se encuentran en el rango de <code>0-10</code>, en donde el valor <code>0</code> es el mínimo y el valor <code>10</code> es el máximo. También cabe mencionar que los valores de medición son valores reales, es decir que tienen una alta precisión con punto decimal.</p>\n<p>Para ejemplificar el uso de la función <code>getBasicValue()</code>, se proporciona el siguiente ejemplo:</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-javascript"><code><span class="token keyword">const</span> RotarySensor <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'robotois-rotary-sensor\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> rotary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RotarySensor</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`BasicValue: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>rotary<span class="token punctuation">.</span><span class="token function">getBasicValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFIxed</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>A continuación se muestra un posible resultado de ejecutar el ejemplo anterior, en donde se observa que se tienen los valores para cuando la perilla del Sensor Rotatorio gira desde la posición mínima a la posición máxima.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-text"><code>BasicValue: 0.000\nBasicValue: 0.218\nBasicValue: 0.329\nBasicValue: 1.335\nBasicValue: 2.065\nBasicValue: 2.682\nBasicValue: 3.276\nBasicValue: 4.294\nBasicValue: 4.859\nBasicValue: 5.647\nBasicValue: 6.453\nBasicValue: 6.971\nBasicValue: 7.447\nBasicValue: 8.065\nBasicValue: 8.847\nBasicValue: 9.347\nBasicValue: 9.641\nBasicValue: 9.882\nBasicValue: 10.012</code></pre>\n      </div>\n<h2><code>getScaledValue()</code></h2>\n<p>Esta función es muy similar a la función <code>getBasicValue()</code>, la diferencia radica en que los valores de medición son enteros. Esta función se ha incluido debido a que en algunos casos no se requiere de una presición alta, y así se puede simplificar su uso. De esta manera la librería proporciona los elementos esenciales para abordar una amplia gama de aplicaciones que se puedan derivar.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-javascript"><code><span class="token keyword">const</span> RotarySensor <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'robotois-rotary-sensor\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> rotary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RotarySensor</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`ScaledValue: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>rotary<span class="token punctuation">.</span><span class="token function">getScaledValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>El resultado de la ejecución del ejemplo anterior se muestra a continuación, en donde se observa cómo se obtienen los valores de medición cuando la perilla es girada desde la posición mínima a la posición máxima.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-text"><code>ScaledValue: 0\nScaledValue: 1\nScaledValue: 2\nScaledValue: 4\nScaledValue: 5\nScaledValue: 6\nScaledValue: 6\nScaledValue: 7\nScaledValue: 8\nScaledValue: 8\nScaledValue: 9\nScaledValue: 10</code></pre>\n      </div>',frontmatter:{title:"Sensor Rotatorio",path:"/docs/rotary-sensor.html"}}},pathContext:{}}}});
//# sourceMappingURL=path---docs-rotary-sensor-html-88e7c31ab9a95034f7a0.js.map